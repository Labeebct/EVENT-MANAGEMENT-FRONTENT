import{u,n as f,r as d,j as e,E as g,c as x,a as p}from"./index-MJovpXgz.js";import{d as y,a as h}from"./Edit-c6QPordl.js";const b=({data:t})=>{const r=u(),l=f(),[s,c]=d.useState(t.isBlocked),o=s?"Unblock":"Block",n=()=>{g({title:`Confirm to ${o}`,message:`Are you sure you want to ${o} the category?`,titleClassName:"text-xl font-inter font-bold text-green-500",buttons:[{label:"Yes",style:{backgroundColor:"#65B741"},className:"text-white font-bold py-2 px-4 rounded mr-2",onClick:async()=>{try{const a=await x.put(`/admin/category-block?id=${t._id}`),{status:i}=a;i==200&&(c(!s),l("success",`Category has been ${s?"Unblocked":"Blocked"}.`))}catch(a){if(a.response){const{data:i,status:m}=a.response;m==404?(r("/404"),console.log(i.msg)):r("/500")}else console.log("No response from server",a),r("/500")}}},{label:"No",style:{backgroundColor:"#D80032"},className:"bg-green-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded mr-2"}],overlayClassName:"fixed inset-0 bg-[black] bg-opacity-20 flex justify-center items-center"})};return e.jsxs("div",{className:"w-full relative mx-auto duration-200 ease-in-out bg-white flex justify-center flex-col shadow-box my-5 rounded-[.3rem] flex-1 min-w-[250px] max-w-[300px] h-auto p-4",children:[e.jsx("img",{src:`https://eventapi.labio.shop/${t.categoryImage}`,className:"w-full h-[10rem]",alt:"Category"}),e.jsx("h3",{className:"text-center mt-4 font-scope-one font-[600] text-[1.3rem] text-[#000000c2] uppercase",children:t.categoryName}),e.jsx("p",{className:"text-center max-h-23 font-roboto text-[.9rem] overflow-hidden  py-3 text-gray-800",children:'"'+t.categoryDiscription+'"'}),!s&&e.jsxs("div",{className:"w-full h-auto flex justify-end  items-center ",children:[e.jsx("button",{onClick:()=>r(`/admin/edit-category?id=${t._id}`),className:"p-1 text-white text-[.7rem] duration-100 active:scale-[.95] ease-in-out mr-3 rounded-sm bg-green-600",children:e.jsx(y,{sx:{fontSize:"20px"}})}),e.jsx("button",{onClick:n,className:"p-1 text-white text-[.7rem] duration-100 active:scale-[.95] ease-in-out rounded-sm bg-red-600",children:e.jsx(h,{sx:{fontSize:"20px"}})})]}),s&&e.jsx("div",{className:"absolute left-0 w-full h-full flex justify-center items-center backdrop-blur-[.06rem] bg-[#ffffff33]",children:e.jsx("button",{onClick:n,className:"bg-red-600 mt-2 mb-32 cursor-pointer ease-linear duration-100 active:scale-[.95] py-2 px-5 font-bold text-white rounded-sm text-[.7rem] font-inter",children:"Unblock"})})]})},j=()=>{const t=u(),[r,l]=d.useState([]),s=p();return d.useEffect(()=>{(async()=>{try{s({type:"loading",payload:!0});const o=await x.get("/admin/category");s({type:"loading",payload:!1});const{data:n,status:a}=o;a==200&&l(n.category)}catch(o){if(o.respnse){const{status:n}=o.respnse;n==500&&t("/500")}else t("/500")}})()},[]),e.jsx("div",{className:"w-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 pb-4 h-auto px-6 gap-x-4",children:r.map(c=>e.jsx(b,{data:c},c._id))})},k=()=>e.jsx(j,{});export{k as default};
