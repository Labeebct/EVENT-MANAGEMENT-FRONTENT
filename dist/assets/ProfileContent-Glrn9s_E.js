import{j as t,u as d,r as m,a as h,c as f}from"./index-DQrfAxQs.js";const x=({role:o,profile:e})=>t.jsxs("div",{className:"w-full h-auto",children:[t.jsx("div",{className:` ${o=="user"?"user_profile_bg":"agent_profile_bg"}   w-full h-52`}),t.jsxs("div",{className:"w-full flex pb-9  flex-col  h-auto relative",children:[t.jsx("img",{src:`https://eventapi.labio.shop/${e.profile}`,className:"border-4 md:w-40 md:h-40 w-32 h-32 rounded-[10rem] absolute -top-20 ml-6 md:ml-12 border-white ",alt:""}),t.jsx("h3",{className:"mt-16 ml-6 md:mt-24 md:ml-14 text-[1.3rem] capitalize font-inter font-bold",children:e.fullname}),t.jsx("h3",{className:"mt-2 ml-6 md:mt-2 md:ml-14 text-[.9rem] font-roboto",children:e.mobilenum}),t.jsx("h3",{className:"mt-2 ml-6 md:mt-2 md:ml-14 text-[.9rem] font-roboto",children:e.email}),t.jsxs("div",{className:"",children:[t.jsxs("h3",{className:"mt-2 ml-6 capitalize md:mt-2 md:ml-14 text-[.9rem] font-roboto",children:["DOB : ",e.dob]}),t.jsxs("h3",{className:"mt-2 ml-6 capitalize md:mt-2 md:ml-14 text-[.9rem] font-roboto",children:["Occupation : ",e.occupation]}),t.jsxs("h3",{className:"mt-2 ml-6 capitalize md:mt-2 md:ml-14 text-[.9rem] font-roboto",children:["State : ",e.state]}),t.jsxs("h3",{className:"mt-2 ml-6 capitalize md:mt-2 md:ml-14 text-[.9rem] font-roboto",children:["District : ",e.district]}),t.jsxs("h3",{className:"mt-2 ml-6 capitalize md:mt-2 md:ml-14 text-[.9rem] font-roboto",children:["Pincode : ",e.pincode]}),t.jsxs("h3",{className:"mt-2 ml-6 capitalize md:mt-2 md:ml-14 text-[.9rem] font-roboto",children:["City : ",e.city]})]})]})]}),b=({role:o})=>{const e=d(),[i,r]=m.useState({}),l=h(),[n,p]=m.useState(!!localStorage.getItem("jwt"));return m.useEffect(()=>{!n&&e("/login")},[e]),m.useEffect(()=>{(async()=>{try{l({type:"loading",payload:!0});const s=await f.get("/profile");l({type:"loading",payload:!1});const{data:c,status:a}=s;a==200&&r(c.profile)}catch(s){if(s.response){const{data:c,status:a}=s.response;a==404?e("/404"):a==500&&e("/500")}else console.log("Error in fetch profile"),e("/500")}})()},[]),t.jsx(t.Fragment,{children:t.jsx(x,{role:o,profile:i})})};export{b as P};
